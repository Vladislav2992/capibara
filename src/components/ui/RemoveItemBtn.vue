<script setup>
import { useOrderStore } from '@/stores/order';
import { twMerge } from 'tailwind-merge';
const props = defineProps({
    product: Object,
    class: String
})

const orderStore = useOrderStore()
const {removeFromOrder} = orderStore

const removeFromCart = async () => {
    await removeFromOrder(props.product)
}
</script>
<template>
    <button @click.prevent="removeFromCart" :class="twMerge('remove-btn ml-2', props.class)">
        <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_127_1036)">
            <path d="M19.9274 5.64268V4.35833C19.9274 3.54691 19.2396 2.89667 18.3798 2.89667H15.1071L14.9782 2.3163C14.7471 1.31143 13.7261 0.5 12.7051 0.5H9.95908C8.93809 0.5 7.91704 1.31143 7.68599 2.3163L7.55703 2.89667H4.28445C3.44078 2.89667 2.73682 3.54691 2.73682 4.35833V5.64268C2.73682 5.75014 2.80667 5.81999 2.91413 5.81999H3.63422L4.83796 20.2807C4.92393 21.4952 5.99865 22.5001 7.23464 22.5001H16.0046C17.2191 22.5001 18.2938 21.4952 18.3637 20.2646L19.0945 5.81999H19.7716C19.8737 5.81999 19.9435 5.75014 19.9274 5.64268ZM8.00314 2.38621C8.19658 1.54254 9.07786 0.8547 9.94302 0.8547H12.689C13.5542 0.8547 14.4302 1.55866 14.6289 2.38621L14.7417 2.89674H7.89568L8.00314 2.38621ZM18.0251 20.2431C17.9553 21.3017 17.0363 22.1454 15.9992 22.1454H7.22932C6.17072 22.1454 5.2572 21.2803 5.18729 20.2431L3.98892 5.81999H18.7559L18.0251 20.2431ZM19.6104 5.46536H18.9387C18.9225 5.45998 18.9064 5.46536 18.8903 5.46536H3.81697C3.80085 5.46536 3.79011 5.45998 3.77399 5.46536H3.12376V4.35833C3.12376 3.74034 3.6504 3.25131 4.32206 3.25131H14.9244C14.9459 3.25669 14.9728 3.25669 14.9943 3.25131H18.412C19.0622 3.25131 19.6103 3.74572 19.6103 4.35833V5.46536H19.6104Z" fill="black"/>
            <path d="M11.3297 10.6241C11.2222 10.6241 11.1523 10.694 11.1523 10.8015V20.9471C11.1577 21.0546 11.2276 21.1244 11.3297 21.1244C11.4371 21.1244 11.507 21.0385 11.507 20.9471V10.8015C11.507 10.6939 11.4371 10.6241 11.3297 10.6241Z" fill="black"/>
            <path d="M11.3297 7.013C11.2222 7.013 11.1523 7.08285 11.1523 7.19032V9.60311C11.1577 9.71058 11.2276 9.78043 11.3297 9.78043C11.4371 9.78043 11.507 9.69446 11.507 9.60311V7.19032C11.507 7.08285 11.4371 7.013 11.3297 7.013Z" fill="black"/>
            <path d="M7.91714 7.1903C7.91714 7.08283 7.83116 6.9968 7.73982 7.01298C7.63235 7.01298 7.5625 7.08283 7.5625 7.1903L8.07302 20.947C8.07296 21.0545 8.159 21.1244 8.25034 21.1244C8.35781 21.1244 8.42766 21.0384 8.42766 20.947L7.91714 7.1903Z" fill="black"/>
            <path d="M14.9461 11.6613C14.8601 11.6613 14.7688 11.7311 14.7688 11.8386L14.4141 20.9471C14.4141 21.0384 14.4839 21.1244 14.5914 21.1244C14.6774 21.1244 14.7687 21.0545 14.7687 20.9471L15.1234 11.8386C15.1234 11.7526 15.0535 11.6613 14.9461 11.6613Z" fill="black"/>
            <path d="M15.1183 7.013C15.0323 7.013 14.941 7.08285 14.941 7.19032L14.8013 10.6617C14.8013 10.7477 14.8711 10.839 14.9786 10.839C15.0861 10.839 15.1559 10.7692 15.1559 10.6617L15.2956 7.19032C15.2956 7.10435 15.2257 7.013 15.1183 7.013Z" fill="black"/>
            </g>
            <defs>
            <clipPath id="clip0_127_1036">
            <rect width="22" height="22" fill="white" transform="translate(0.333496 0.5)"/>
            </clipPath>
            </defs>
        </svg>
    </button>
</template>
<style lang="sass" scoped>
@import '@/assets/style/vars'
.remove-btn 
    background: rgba(217,217,217, .5)
    padding: 6px 7px
    border-radius: 10px
    &:active
        svg
            animation: scale .3s 
@keyframes scale 
    0% 
        transform: scale(0)
    100%
        transform: scale(1)
</style>